# 객체 지향 설계

객체지향 설계의 목표는 훌륭한 객체를 설계하는 게 아니라, 훌륭한 객체간의 협력을 설계하는 것이다. 협력이 잘 디자인되면 객체는 알아서 예쁘게 뽑힌다.

## 설계 방법

협력은 메시지로 이루어지므로 설계는 메시지로부터 시작된다. 이 때 RDD를 통해(사실 어떤 방법이든 상관은 없다) 메시지를 정의할 수 있다.

1. 정의된 메시지를 처리할 가장 적절한 존재를 찾는다.
    이 때 가장 적절한 존재란 가장 그 메시지에 대해 '잘 아는' 존재다.

2. 적절한 존재를 발견했다면 책임을 수행할 객체를 그 타입의 인스턴스로 만든다.
    이렇게 되면 이 객체는 그 메시지를 수행할 책임을 할당받게 되는 것이다.

3. 객체 하나가 만들어졌다면 이 객체가 혼자서는 처리할 수 없는 일에 무엇인지 고민하며 외부에 협력할 메시지를 찾는다.
    찾아낸 후 1~3을 반복한다.

4. 더 이상 책임을 할당할 메시지가 존재하지 않는다면 찾아낸 메시지들을 정제하여 인터페이스를 정의한다.
    여기서 인터페이스는 반드시 java의 interface 문법을 뜻하는 것은 아니다. 다른 객체의 메소드일 수 있다.

    여기서는 이미 코딩하면서 구현을 시작하는 단계라고 보면 된다.

5. 구현하면서 여러가지 이유로 인터페이스가 변경될 수 있다.
    그러나 가장 중요한 것은 인터페이스가 객체 내부속성에 관한 어떠한 힌트라도 노출해서는 안된다는 점이다.
    
    이를 위해 인터페이스 설계 시에는 객체에 대한 어떠한 가정(자료구조, 내부 속성 등)도 하지 말아야 한다.
    이러한 가정들은 구현하면서 자연스레 수면위로 떠오른다.


## UML

객체간의 협력을 칠판에 슥슥 그릴 수도 있지만, UML을 사용하여 표현할 수도 있다.
UML 2.0 표준으로 Communication Diagram이 제공되는데, 굳이 반드시 쓸 이유는 없다. 의사소통이 편리한 것이 더 중요하기 때문이다.
