---
layout: post
title: CCBOT
category: [python, pyqt4, py2exe, my-project]
author: hyungsun
image: assets/images/ccbot_screenshot.PNG
timelineText: CERT Night Work Automation Tool
startDate: 2016.5.1
endDate: 2016.8.27
asset_media: assets/images/ccbot_screenshot.PNG
asset_caption: 
asset_credit: 
---

> 선임들이 3시간씩 걸리는 야근 작업에 익숙해지라 강요할 때, 문득 드는 생각이 있었다.
>
> "이걸 왜 사람이 해야 하지?"

나는 군 내부에서 CERT라고 불리는 정보보호팀 소속이었다. 그러다 보니 24시간 근무부서로 교대근무를 해야 했고, 야근을 하는 날이면 해야할 일이 산더미였다. 그리 어려운 일들은 아니고 그냥 손이 많이 가는 타입이랄까. 방화벽 작업이나 서버 로그 관리, 당일 NAC 통계 분석 보고서 작성 등이 그런 부류였다. 야근은 나에게 있어 선임들 없이 나 혼자만 있었기 때문에 눈치보는 일 없이 공부할 수 있는 황금같은 시간이나 다름 없었다. 그러나 그런 귀찮은 일들에 열중하면서 내 아까운 시간을 뺏기는 게 영 마음에 들지 않았던 나는 나를 대신해주는 녀석을 만들기로 마음을 먹었다. 결과적으로 사람이 으레 자주하던 실수도 안하게 되어, 처음엔 비밀로 했던 간부들에게까지 나중엔 호평을 받았다. 그야말로 꿩먹고 알먹고였다.

### Environment
+ Python 3
+ PyQt4

### When
2016.5.1 ~ 2015.8.27

### Preview
![CCBOT]({{ site.url }}/assets/images/ccbot_screenshot.PNG)

### Description
나를 대신해 야근을 할 수 있는 봇을 만들기로 마음은 먹었지만, 그냥 대충 만들기는 싫었다. 학교에서 배웠지만 별로 실효성이 없다고 느꼈던 것들에 대해 내가 잘 몰라서 그런 것인지, 아니면 실제로 쓸모가 없는 건지 테스트 해보고 싶은 마음도 있었다. 군대를 가기 직전 학기에 나는 학교에서 SRS(요구사항 명세)작성법이나 MVC라는 디자인 패턴에 대해 배웠었는데, 제약사항이 왜 그리 많은지 오히려 불편한 것 같은 느낌 뿐이었다. 그래서 내가 아직 잘 몰라서 그러는 것이다라는 쪽에 배팅하고 이 봇에다가 MVC패턴을 집어 넣어 한번 더 공부해보기로 했다.

프로젝트 규모는 그리 큰 편이 아니었지만, MVC 모델 적용과 프로그램 설계를 연습하기 위해서 SRS 작성하는 게 훨씬 오래 걸렸다. 물론 군대라는 환경적 요인을 무시할 수는 없지만, SRS 작성에 두 달을 모조리 바칠 정도였으니 스트래스를 은근히 받았다. 또 이 때 당시에는 MVC가 디자인 패턴인 것도 모른 채, 디자인 패턴은 중요하단 말만 어디서 주워듣고는 MVC랑 디자인 패턴을 같이 사용해 보이겠어! 라고 굳게 다짐했던 기억이 있다.

아래는 당시 SRS에 내가 작성했던 Class Diagram이다.

![CCBOT]({{ site.url }}/assets/images/CCBOT_Class_Diagram.JPG)

그리고 아래는 당시 작성했던 요구사항 명세서다. 지금 봐선 엉망이지만, 만들 때까지만 해도 세상에서 제일 잘 만든 것만 같았다.

[CCBOT_SRS.hwp]({{ site.url }}/resource/CCBOT_SRS.hwp)

3시간이나 걸렸던 작업은 사실 쓸데 없는 수작업때문에 오래 걸렸었다. 때문에 그 작업을 컴퓨터가 해주게 되니 10분으로 작업시간이 줄어들었다. 전역 후에 아직도 부서 사람들이 잘 사용하고 있더라는 소식을 듣고는 내심 뿌듯했다.

#### 어려웠던 점
웹 크롤링 이후에 파싱을 하는 데 항상 똑같은 데이터가 들어오는 것이 아니기 때문에, 매우 정교한 정규표현식 그물망이 필요했다. 원래는 정규표현식에 대해 잘 알지도 못했다가, 이 프로젝트를 진행하면서 많이 익숙해졌다. 비록 규모는 작지만  성장하는 데 좋은 양분이 되어준 프로젝트다.

또 MVC 모델을 적용하는 데 있어 '컨트롤러는 크림처럼 부드러워야 한다'는 대원칙을 전제로 두고 만드느라, 틈만 나면 리펙토링을 거듭했다. 잘 돌아가는 코드까지 망쳐놓을 까봐 리펙토링을 처음엔 무서워했었는데, 후에 있을 버그를 잡는 데 도움이 된다고 생각하고 극복해냈다. 
