---

layout: post
title: Cue
category: [kotlin, android, swift, mvvm, my-project]
author: hyungsun
image: assets/images/cue_0.png
timelineText: Personal AI assistant service
startDate: 2017.12.15
endDate: continue
asset_media: assets/images/cue_0.png
asset_caption: 
asset_credit:
---

## Overview

[Hyper personalization](http://skelterlabs.com/hyper-personalization/)을 사용하여 사용자의 하루를 편하게 만들어주는 인공지능 비서 앱이다. Hyper personaliztion 이란 고객의 real-world 데이터로부터 기계 학습을 통해 유의미한 Context를 추출하여 User modeling을 해주는 기술이다. 이를 통해 기존보다 훨씬 정교하고 효과적인 마이크로 마케팅을 구성할 수 있다. [(구글 플레이 스토어 링크)](https://play.google.com/store/apps/details?id=com.skelterlabs.cue)

## Duration

2017.12.15 ~ Present

## Development environment

- Language
  - Kotlin, Swift, Java
- Library
  - Dagger, RxJava, Protobuf, Etc.
- Tools
  - Android studio, Xcode, Mongo DB compass, Gerrit, Zeplin, Jira

## Contribution

내가 이 프로젝트에 기여한 부분은 다음과 같다.

- Android
  - Refector architecture to MVVM
  - Refectoring the Event bus based data flow using RxJava2
  - Advanced custom UI development
  - User sign up & in
  - Protobuf-lite, Android X Migration
  - Implement flexible Style
  - i8n
- iOS
  - UI development
- Backend
  - Development Jetty based RESTful API

## Contribution details

### Android

#### Refector architecture to MVVM

기존에 구현되어 있던 MVC architecture를 MVVM으로 리펙토링하였다. 리펙토링 전 아키택쳐 리서치를 하는 과정에서 [Tictactoe](https://github.com/poqw/ticTacToe/tree/mvvm-kotlin-rxjava2) 앱을 직접 구현하고 MVC, MVP, MVVM등의 장단점을 파악했다. MVP와 MVVM은 사실 서로 비슷한 점이 매우 많기 때문에 어떤 것을 고르든 상관은 없었으나, 확실히 MVC보다 testability가 높다는 큰 장점이 있었다.

#### Refectoring the Event bus based data flow using RxJava2

RxJava 기반으로 Event bus가 사용되는 모든 부분을 리펙토링 하였다. RxJava는 Event bus에 비해 가독성이 좋고 프로젝트 곳곳에서 쓰이는 곳이 많아 전반적인 코드 일관성을 향상시키는 데 도움을 주었다.

#### Advanced custom UI development

다음 화면들을 구현했다.
<p align="center">
  <img src="{{ site.url }}/assets/images/cue_3.png">
</p>

<p align="center">
  <img src="{{ site.url }}/assets/images/cue_4.png">
</p>

특히 그래프의 경우 색, 간격, 스케일, x label, y label 과 같은 attribute들을 전부 customize할 수 있는 custom view로 구현하였다.

#### User sign up & in

회원 가입, 로그인, 패스워드 변경, 초기화 등 사용자 인증과 관련된 부분을 구현했다.
<p align="center">
  <img src="{{ site.url }}/assets/images/cue_5.png">
</p>

#### Style & Theme trimming

Theme, Font, Animation, Ripple effect, Transparent status bar 등 안드로이드 버전 별로 스타일을 대응할 수 있게 구현했다.

### iOS

#### UI development

다음 화면들을 구현했다.
<p align="center">
  <img src="{{ site.url }}/assets/images/cue_6.png">
</p>
Android와 마찬가지로 MVVM으로 구현했으나, 해당 부분 이후 더 이상 iOS에 MVVM패턴을 적용하지 않았다. MVVM이 iOS에 적합한 패턴이라고 보기 어려웠기 때문이다. iOS 특성 상 ViewController가 타이트하게 View와 연결되어 있으므로 MVVM을 적용하기 위해선 ViewController 전체를 View로 보아야 한다. 그런데 iOS에서 자주 사용하는 delegate패턴들은 ViewController에서 구현하기 알맞게 설계된 경우가 많아 비즈니스 로직을 ViewModel이 책임지기 힘든 상황이 빈번하게 발생한다.

### Backend

#### Development Jetty based RESTful API

Jetty 기반의 API 서블릿들을 구현하였다. 주요 구현 사항은 다음과 같다.
- Cue user auth 관련 서블릿 구현
- FCM(Firebase Cloud Message) 서블릿 구현

<p align="center">
  <img src="{{ site.url }}/assets/images/cue_1.png">
</p>
